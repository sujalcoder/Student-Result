<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Result</title>

    <!-- âœ… Flask Static CSS -->
   
</head>

<body>

<div class="result-container" id="result">
    <h2>Student Result</h2>

    <p><strong>Roll No:</strong> {{ roll_no }}</p>

    <table border="1" cellpadding="10">
        <tr>
            <th>Subject</th>
            <th>Marks</th>
        </tr>
{% if subjects %}
    {% for subject, mark in subjects.items() %}
    <tr>
        <td>{{ subject }}</td>
        <td>{{ mark }}</td>
    </tr>
    {% endfor %}
{% else %}
    <tr>
        <td colspan="2">No subjects found</td>
    </tr>
{% endif %}
    </table>

    <p><strong>Total:</strong> {{ total }}</p>
    <p><strong>Percentage:</strong> {{ percentage }}%</p>
    <p><strong>Grade:</strong> {{ grade }}</p>

    <button onclick="downloadResult()">Download Result</button>
</div>

<br>
<a href="/">Logout</a>

<script>
function downloadResult() {
    const content = document.getElementById("result").innerHTML;
    const blob = new Blob([`
        <html>
        <head><title>Result</title></head>
        <body>${content}</body>
        </html>
    `], { type: "text/html" });

    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "student_result.html";
    link.click();
}
</script>

</body>
</html>
